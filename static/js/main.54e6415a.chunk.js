(this["webpackJsonpcovalent-wallet-app"]=this["webpackJsonpcovalent-wallet-app"]||[]).push([[0],{150:function(e,t,a){},152:function(e,t,a){},16:function(e,t,a){e.exports={root:"BalanceItem_root__2w21y",top:"BalanceItem_top__1VPKV",logo:"BalanceItem_logo__15kTX",logoImg:"BalanceItem_logoImg__LOUrI",balance:"BalanceItem_balance__39PZ8",symbol:"BalanceItem_symbol__3Sgvg",quoteMajor:"BalanceItem_quoteMajor__2cGcJ",quoteMinor:"BalanceItem_quoteMinor__-N3KI",fiat:"BalanceItem_fiat__fonnX"}},202:function(e,t,a){"use strict";a.r(t);var r=a(2),n=a(0),s=a.n(n),c=a(14),o=a.n(c),i=(a(150),a(151),a(152),a(153),a(154),a(206)),l=a(22),u=a(15),d=a(4),b=a.n(d),p=a(11),j=a(17),m=a(39),_=a(89),v=a(45),x=a.n(v),O=a(16),f=a.n(O),h=a(31),g=a.n(h),y=function(e){return(100*e).toFixed(2)+"%"},k=function(e,t){return Object(r.jsxs)("span",{className:g.a.display,children:[Object(r.jsx)(i.d,{content:Object(r.jsx)("div",{children:"Supply"}),children:y(e)}),Object(r.jsx)("span",{className:g.a.divider,children:"/"}),Object(r.jsx)(i.d,{content:Object(r.jsx)("div",{children:"Borrow"}),children:y(t)})]})},N=function(e){var t=e.provider,a=e.providerName;return Object(r.jsxs)("div",{className:g.a.root,children:[Object(r.jsx)(i.d,{className:g.a.logo,content:t.token.contract_name,children:Object(r.jsx)("img",{className:g.a.logoImg,src:t.token.logo_url,alt:t.token.contract_name})}),"aave"===a?k(t.supply_apy,t.stable_borrow_apr):k(t.supply_apr,t.borrow_apr)]})},w=function(e){var t=e.item,a=e.loans,n=Math.floor(t.quote),s=(t.quote-n).toFixed(18).substring(1),c=Object(r.jsx)("div",{children:t.contract_name}),o=a&&a[t.contract_ticker_symbol]&&a[t.contract_ticker_symbol].aave,u=a&&a[t.contract_ticker_symbol]&&a[t.contract_ticker_symbol].comp;return console.log(o,u),Object(r.jsxs)(i.b,{className:f.a.root,elevation:l.a.ZERO,children:[Object(r.jsxs)("div",{className:f.a.top,children:[Object(r.jsx)("div",{className:f.a.balanceDesc,children:Object(r.jsx)(i.d,{className:f.a.tooltip,content:c,children:Object(r.jsxs)("div",{className:f.a.balance,children:[Object(r.jsx)("div",{className:f.a.logo,children:Object(r.jsx)("img",{className:f.a.logoImg,src:t.logo_url,alt:t.contract_name})}),Object(r.jsx)("div",{className:f.a.symbol,title:t.contract_name,children:t.contract_ticker_symbol})]})})}),Object(r.jsxs)("div",{className:f.a.loans,children:[o&&Object(r.jsx)(N,{provider:o,providerName:"aave"}),u&&Object(r.jsx)(N,{provider:u,providerName:"comp"})]})]}),Object(r.jsxs)("div",{className:f.a.bottom,children:[Object(r.jsxs)("div",{className:f.a.quote,children:[Object(r.jsx)("span",{className:f.a.quoteMajor,children:n}),Object(r.jsx)("span",{className:f.a.quoteMinor,children:s})]}),Object(r.jsxs)("div",{className:f.a.fiat,children:["~$",t.quote_rate]})]})]})},I=a(20),q=a(47),B=a.n(q),C=function(e){var t=e.address,a=e.showOverlay,n=t.slice(0,6)+"..."+t.slice(-4);return Object(r.jsxs)("div",{className:B.a.root,onClick:a,children:[Object(r.jsx)("div",{className:B.a.address,children:n}),Object(r.jsx)(i.a,{className:B.a.editButton,minimal:!0,type:"button",children:Object(r.jsx)(i.c,{icon:"edit",intent:I.a.PRIMARY})})]})},S=a(55),A=a.n(S),M=a(82),T=a.n(M).a.create({auth:{username:"ckey_f1fbf169cdc04b9dbb6ceea07af",password:""}}),F=function(){var e=Object(p.a)(b.a.mark((function e(t){var a,r,n=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.length>1&&void 0!==n[1]&&n[1],console.log("getAddressBalance",t),e.prev=2,e.next=5,T.get("https://api.covalenthq.com/v1/1/address/".concat(t,"/balances_v2/?nft=").concat(a?"true":"false"));case 5:return r=e.sent,console.log(r.data.data),e.abrupt("return",r);case 10:if(e.prev=10,e.t0=e.catch(2),!e.t0.response){e.next=19;break}if(console.log("api response error",e.t0.response),!e.t0.response.data){e.next=16;break}return e.abrupt("return",e.t0.response.data.error_message);case 16:return e.abrupt("return",e.t0.response);case 19:if(!e.t0.request){e.next=24;break}return console.log("api request error",e.t0.request),e.abrupt("return",e.t0.request);case 24:return console.log("unexpected api error",e.t0.message),e.abrupt("return",e.t0.message);case 26:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),L=a(28),P=a(83),R=a.n(P),E=function(){return Object(r.jsx)("div",{className:R.a.root,children:Object(r.jsx)(L.a,{intent:I.a.PRIMARY,size:50})})},J=a(25),V=a(40),Y=a(43),G=a(88),W=a(56),D=a.n(W),K=function(e){var t=e.onSubmit,a=e.onCancel,n=e.address,s=e.isCancelable,c=Object(G.a)(),o=c.register,i=c.handleSubmit;return Object(r.jsx)("div",{className:D.a.root,children:Object(r.jsxs)("form",{onSubmit:i(t),children:[Object(r.jsx)(V.a,{helperText:"For example 0xb392b1b6ab28016a019bae72f6cb7b18145b219e",label:"Your wallet address",labelFor:"address",children:Object(r.jsx)(Y.a,{id:"address",placeholder:"Placeholder text",name:"address",defaultValue:n,inputRef:o({required:!0}),className:D.a.addressInputGroup})}),Object(r.jsx)(J.a,{type:"submit",children:"Save"}),s&&Object(r.jsx)(J.a,{type:"button",onClick:a,children:"Cancel"})]})})},X=a(84),H=a.n(X);var U=a(41),Z=a(90),z=function(e){var t=e.setBalances,a=e.hideOverlay,s=e.balances,c=function(e,t){var a=H()(e,t),r=Object(u.a)(a,2),s=r[0],c=r[1],o=Object(n.useState)(s),i=Object(u.a)(o,2),l=i[0],d=i[1];return[l,function(e){d(e),c(e)}]}("address",""),o=Object(u.a)(c,2),i=o[0],l=o[1],d=Object(n.useState)(""),j=Object(u.a)(d,2),m=j[0],_=j[1];console.log("address",i);var v=Object(Z.a)(function(){var e=Object(p.a)(b.a.mark((function e(r){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(r);case 2:n=e.sent,console.log(n),n.status>=200&&n.status<300?(t(n.data.data),a(),l(n.data.data.address)):_(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),x=Object(u.a)(v,2),O=x[0],f=x[1];Object(n.useEffect)((function(){i&&f(i)}),[i,f]);var h=function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f(t.address);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsx)("div",{className:A.a.root,children:O.loading?Object(r.jsx)(E,{}):m?Object(r.jsx)(U.a,{icon:"error",title:"Address fetching error",description:m,action:Object(r.jsx)(J.a,{onClick:function(){return _("")},children:"Return to form"})}):Object(r.jsx)("div",{className:A.a.container,children:Object(r.jsx)(K,{address:i,onSubmit:h,onCancel:function(){a(),l(s.address)},isCancelable:Boolean(s&&s.address)})})})},Q=function(){var e=Object(p.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getCompoundAssets"),e.prev=1,e.next=4,T.get("https://api.covalenthq.com/v1/1/networks/compound/assets/");case 4:return t=e.sent,console.log(t.data.data),e.abrupt("return",t);case 9:if(e.prev=9,e.t0=e.catch(1),!e.t0.response){e.next=18;break}if(console.log("api response error",e.t0.response),!e.t0.response.data){e.next=15;break}return e.abrupt("return",e.t0.response.data.error_message);case 15:return e.abrupt("return",e.t0.response);case 18:if(!e.t0.request){e.next=23;break}return console.log("api request error",e.t0.request),e.abrupt("return",e.t0.request);case 23:return console.log("unexpected api error",e.t0.message),e.abrupt("return",e.t0.message);case 25:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),$=a(205),ee=function(){var e=Object(p.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getCompoundAsset"),e.prev=1,e.next=4,T.get("https://api.covalenthq.com/v1/1/networks/aave/assets/");case 4:return t=e.sent,console.log(t.data.data),e.abrupt("return",t);case 9:if(e.prev=9,e.t0=e.catch(1),!e.t0.response){e.next=18;break}if(console.log("api response error",e.t0.response),!e.t0.response.data){e.next=15;break}return e.abrupt("return",e.t0.response.data.error_message);case 15:return e.abrupt("return",e.t0.response);case 18:if(!e.t0.request){e.next=23;break}return console.log("api request error",e.t0.request),e.abrupt("return",e.t0.request);case 23:return console.log("unexpected api error",e.t0.message),e.abrupt("return",e.t0.message);case 25:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),te=a(85),ae=function(e,t,a){return e.reduce((function(e,r){var n=r.underlying,s=Object(_.a)(r,["underlying"]);return Object(m.a)(Object(m.a)({},e),{},Object(j.a)({},r.underlying.contract_ticker_symbol,Object(j.a)({underlying:n},t,Object(m.a)(Object(m.a)({},s),{},{token:s[a]}))))}),{})},re=function(e){var t=e.balances,a=e.showOverlay,n=Object($.a)(Object(p.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q();case 2:if(!((t=e.sent).status>=200&&t.status<300)){e.next=7;break}return e.abrupt("return",t.data.data.items);case 7:case"end":return e.stop()}}),e)}))),[]),s=Object($.a)(Object(p.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee();case 2:if(!((t=e.sent).status>=200&&t.status<300)){e.next=7;break}return e.abrupt("return",t.data.data.items);case 7:case"end":return e.stop()}}),e)}))),[]),c=s.value&&n.value&&function(e,t){var a=ae(e,"aave","atoken"),r=ae(t,"comp","ctoken");return console.log(a,r),Object(te.merge)(a,r)}(s.value,n.value);return console.log(t,c),Object(r.jsxs)("div",{className:x.a.wrapper,children:[Object(r.jsx)(C,{address:t.address,showOverlay:a}),Object(r.jsx)("div",{className:x.a.balanceItems,children:t.items.map((function(e){return Object(r.jsx)(w,{item:e,loans:c},e.contract_address)}))})]})},ne=function(){var e=Object(n.useState)(!0),t=Object(u.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)(),o=Object(u.a)(c,2),i=o[0],l=o[1];return Object(r.jsxs)("div",{className:x.a.root,children:[i&&i.items&&Object(r.jsx)(re,{balances:i,showOverlay:function(){s(!0)}}),Object(r.jsx)("div",{style:{display:a?"block":"none"},children:Object(r.jsx)(z,{setBalances:l,balances:i,hideOverlay:function(){return s(!1)}})})]})},se=a(86),ce=a.n(se),oe=function(){return Object(r.jsx)("div",{className:ce.a.root,children:"Covallet"})},ie=a(57),le=a.n(ie),ue=function(){return Object(r.jsx)("div",{className:le.a.root,children:Object(r.jsx)("div",{className:le.a.title,children:"Covallet"})})},de=a(87),be=a.n(de),pe=function(){return Object(r.jsxs)(i.b,{className:be.a.root,elevation:l.a.TWO,children:[Object(r.jsx)(ue,{}),Object(r.jsx)(ne,{}),Object(r.jsx)(oe,{})]})};var je=function(){return Object(r.jsx)(pe,{})},me=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,207)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),r(e),n(e),s(e),c(e)}))};o.a.render(Object(r.jsx)(s.a.StrictMode,{children:Object(r.jsx)(je,{})}),document.getElementById("root")),me()},31:function(e,t,a){e.exports={root:"Loan_root__11Ku5",logo:"Loan_logo__2T4qS",logoImg:"Loan_logoImg__2DOeJ",display:"Loan_display__2NajQ",divider:"Loan_divider__4wfjX"}},45:function(e,t,a){e.exports={root:"Body_root__g6F7S",wrapper:"Body_wrapper__18Tbd",balanceItems:"Body_balanceItems__2PWvI"}},47:function(e,t,a){e.exports={root:"AddressInput_root__a0TVx",address:"AddressInput_address__2TOaV",editButton:"AddressInput_editButton__3TYfd"}},55:function(e,t,a){e.exports={root:"AccountEditOverlay_root__3YqT_",container:"AccountEditOverlay_container__3WMLd"}},56:function(e,t,a){e.exports={addressInputGroup:"AddressForm_addressInputGroup__18adu"}},57:function(e,t,a){e.exports={root:"Header_root__2ncWU",title:"Header_title__1JN2t"}},83:function(e,t,a){e.exports={root:"Loader_root__1rxh1"}},86:function(e,t,a){},87:function(e,t,a){e.exports={root:"Root_root__1dxct"}}},[[202,1,2]]]);
//# sourceMappingURL=main.54e6415a.chunk.js.map